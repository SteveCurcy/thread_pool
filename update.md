## 本文档主要用于记录在代码更新过程中的思想和具体变动

由于当前 crazy 版本线没有完全完成架构设计和实现，因此版本编号设置为 alpha 版本。

### :tada::sparkle: Version-0.1.0.230918_alpha_a5_Xu.C

当前版本我们在线程类中统计了线程的任务平均执行时间，期望针对线程进行任务分配。但是这会导致一些问题：

- 管理线程：为了实现任务的合理分配，往往需要一个管理或者守护线程来完成对线程的监控，并且进行任务资源的调度；
- 模块耦合：这将导致线程类和任务类耦合度提高，不利于模块之间的隔离

因此，本此版本升级希望将任务分配放在 TaskCache 中完成。

由于每个线程都需要拿到一个任务队列，通过任务队列获取即将执行的任务，我们可以尝试根据任务产生和消耗的速率进行分配，优先将任务交给消耗速率高的队列。

为了减少时间戳采集和计算带来的时间损耗，预计采用提交时计算。每次出现提交时，每个队列都可以认为已经经历了相同的时间间隔。因此，可以利用这段时间内队列的加入元素和拿出元素的数量来获取当前队列的状态估计值。

当一个任务来临时，启动一个计时器，并在设置出现超时或者缓存已满，则将缓存中的任务添加到消耗速度最高的一个队列中。
